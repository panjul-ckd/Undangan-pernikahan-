<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan Albi & Aul</title>
    <link rel="stylesheet" href="style.css">
    
<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

    <meta property="og:title" content="Undangan Pernikahan Albi & Aul">
    <meta property="og:description" content="Dengan hormat, kami mengundang Bapak/Ibu/Saudara/i untuk hadir di hari bahagia kami.">
    <meta property="og:image" content="https://USERNAME_GITHUB.COM/NAMA_REPOS_ANDA/cover.jpg"> 
    <meta property="og:url" content="https://USERNAME_GITHUB.COM/NAMA_REPOS_ANDA/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Undangan Albi & Aul">
    
</head>
<body>

    <audio id="musik-latar" loop preload="auto">
        <source src="musik.mp3" type="audio/mp3">
        Browser Anda tidak mendukung elemen audio.
    </audio>

    <div id="page-wrapper">

        <div id="cover-section" class="page-section active">
            <div id="cover-overlay"></div>
            
            <div id="cover-content-wrapper"> 
                <p class="tagline">Undangan Pernikahan</p>
                <h1>Albi & Aul</h1>
                <p class="greeting-to">Kepada yang terhormat:</p>
                <div id="guest-target" class="guest-name-display">Bapak/Ibu/Sdr/i</div>
                <p class="greeting-place">Di tempat</p>
                
                <p class="countdown-label">Menuju Hari yang Istimewa:</p>
                <div id="countdown-timer" class="countdown-style"></div>
                
                <button onclick="bukaUndangan()" id="buka-undangan-btn">Buka Undangan & Putar</button>
            </div>
        </div>

        <div id="video-section" class="page-section">
            <div class="content-container">
                <video width="100%" id="undangan-video" class="undangan-video"> 
                    <source src="video.mp4" type="video/mp4">
                    Browser Anda tidak mendukung pemutaran video.
                </video>
                
                <button id="control-button" class="btn-control" onclick="toggleMedia()">
                    <span id="control-icon">‚è∏Ô∏è</span> Jeda Musik & Video
                </button>
            </div>
        </div>
        
        <div id="detail-section" class="page-section">
            <div class="content-container">
                
                <section class="maps-link-section">
                     <h2>Akses Lokasi</h2>
                     <p>Akses cepat menuju lokasi acara resepsi kami:</p>
                     <a href="https://maps.app.goo.gl/FFTcA6KMwjbhMGqu6" target="_blank" class="btn-lokasi">
                        <span role="img" aria-label="Map">üìç</span> Buka di Maps
                    </a>
                </section>
                
                <section class="kado-digital-section">
                    <h2>Kirim Kado Digital</h2>
                    <p>Bagi yang ingin memberikan tanda kasih secara non-tunai, dapat melalui:</p>
                    
                    <div class="bank-info-container">
                        <div class="bank-box">
                            <h4><span role="img" aria-label="Bank">üè¶</span> Bank BCA</h4>
                            <p><strong>No. Rek:</strong> [NOMOR REKENING BCA]</p>
                            <p><strong>A.N.:</strong> Albi Malik Alnur</p>
                            <button class="btn-copy" onclick="copyToClipboard('[NOMOR REKENING BCA]')">Salin No. Rek</button>
                        </div>
                        
                        <div class="bank-box">
                            <h4><span role="img" aria-label="E-wallet">üí≥</span> E-Wallet DANA/GOPAY</h4>
                            <p><strong>No. HP:</strong> [NOMOR HP E-WALLET]</p>
                            <p><strong>A.N.:</strong> Nur Aulia Pratiwi</p>
                            <button class="btn-copy" onclick="copyToClipboard('[NOMOR HP E-WALLET]')">Salin No. HP</button>
                        </div>
                    </div>
                    <p class="catatan">*Mohon berikan konfirmasi setelah transfer. Kehadiran Anda adalah kado terbaik.</p>
                </section>

                <section class="penutup">
                    <h2>Albi & Aul</h2>
                    <p>Mengucapkan terima kasih atas doa restu dan kehadiran Bapak/Ibu/Saudara/i sekalian.</p>
                    <h3 style="color: #2E8B57;">Kami yang berbahagia</h3>
                    <p class="catatan">Dibuat dengan penuh cinta. Nov 2025</p>
                </section>
                <button onclick="nextPage(2)" class="btn-prev">‚¨Ö Kembali ke Video</button>

            </div>
        </div>
    </div>

    <script>
        const audioLatar = document.getElementById('musik-latar');
        const videoUndangan = document.getElementById('undangan-video');
        const pageWrapper = document.getElementById('page-wrapper');
        const controlButton = document.getElementById('control-button');
        const controlIcon = document.getElementById('control-icon');
        const totalPages = 3; 
        let currentPage = 1;

        // --- FUNGSI TRANSISI HALAMAN (SLIDE) ---
        function updatePageWrapper() {
            pageWrapper.style.transform = `translateX(-${(currentPage - 1) * 100}vw)`;
            
            document.querySelectorAll('.page-section').forEach((section, index) => {
                if (index + 1 === currentPage) {
                    section.classList.add('active');
                } else {
                    section.classList.remove('active');
                }
            });
            window.scrollTo(0, 0);
        }

        function nextPage(targetPage) {
            if (targetPage >= 1 && targetPage <= totalPages) {
                currentPage = targetPage;
                updatePageWrapper();
            }
        }

        // --- FUNGSI UTAMA: BUKA UNDANGAN ---
        function bukaUndangan() {
            const cover = document.getElementById('cover-section');
            
            // 1. Musik diputar mulai dari sini
            audioLatar.play().catch(error => {
                console.error("Gagal putar musik:", error);
            });
            
            cover.style.opacity = 0;
            
            setTimeout(() => {
                // 2. Transisi ke halaman 2 (Video)
                cover.style.display = 'none';
                nextPage(2);
                
                // 3. Otomatis putar video (Ini akan memicu event listener 'play' yang akan menjeda audioLatar)
                videoUndangan.play().catch(error => {
                    console.error("Pemutaran video gagal: ", error);
                    // Jika gagal autoplay, langsung tampilkan tombol kontrol sebagai Play
                    videoUndangan.pause(); 
                    audioLatar.play().catch(e => {}); // Pastikan musik tetap jalan
                    controlButton.innerHTML = '<span id="control-icon">‚ñ∂Ô∏è</span> Putar Musik & Video';
                });

            }, 500); // Durasi fade out (sesuai CSS)
        }
        
        // --- KONTROL PLAY/PAUSE UNIVERSAL (Halaman 2) ---
        function toggleMedia() {
            // Jika video sedang paused, kita akan memutarnya. Jika sedang diputar, kita akan menjedanya.
            if (videoUndangan.paused) {
                videoUndangan.play();
                // Logic jeda/putar musik dan update tombol akan dihandle oleh event listener video
            } else {
                videoUndangan.pause(); 
                // Logic jeda/putar musik dan update tombol akan dihandle oleh event listener video
            }
        }
        
        // --- SINKRONISASI MEDIA PADA EVENT VIDEO ---

        // 1. VIDEO SELESAI -> LANJUT KE HALAMAN 3 & PUTAR MUSIK
        videoUndangan.addEventListener('ended', () => {
            // Transisi Halaman ENFORCED setelah video selesai
            nextPage(3); 
            audioLatar.play().catch(error => {}); 
        });

        // 2. VIDEO PLAY -> JEDA MUSIK & UPDATE TOMBOL
        videoUndangan.addEventListener('play', () => {
            // Saat video mulai (otomatis atau diklik), pastikan musik latar dijeda
            audioLatar.pause();
            controlButton.innerHTML = '<span id="control-icon">‚è∏Ô∏è</span> Jeda Musik & Video';
        });

        // 3. VIDEO PAUSE -> PUTAR MUSIK & UPDATE TOMBOL
        videoUndangan.addEventListener('pause', () => {
            // Saat video dijeda (oleh user), lanjutkan musik latar
            if (currentPage === 2 && !videoUndangan.ended) { 
                audioLatar.play().catch(error => {});
            }
            controlButton.innerHTML = '<span id="control-icon">‚ñ∂Ô∏è</span> Putar Musik & Video';
        });
        
        // --- LOGIKA COPY CLIPBOARD & COUNTDOWN (Sama seperti sebelumnya) ---
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert("Nomor berhasil disalin: " + text);
            }).catch(err => {
                console.error('Gagal menyalin: ', err);
            });
        }
        
        function setGuestName() {
            const urlParams = new URLSearchParams(window.location.search);
            const guestName = urlParams.get('to');
            const guestElement = document.getElementById('guest-target');
            
            if (guestName) {
                const cleanName = decodeURIComponent(guestName).replace(/\+/g, ' ');
                guestElement.innerHTML = `<strong>${cleanName}</strong>`;
            } else {
                guestElement.innerHTML = `<strong>Tamu Undangan</strong>`;
            }
        }

        function startCountdown() {
            const countDownDate = new Date("Nov 15, 2025 00:00:00").getTime();
            
            const x = setInterval(function() {
                const now = new Date().getTime();
                const distance = countDownDate - now;
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                const timerElement = document.getElementById("countdown-timer");
                
                if (distance > 0) {
                    timerElement.innerHTML = `
                        <div class="time-unit"><span>${days}</span>Hari</div>
                        <div class="time-unit"><span>${hours}</span>Jam</div>
                        <div class="time-unit"><span>${minutes}</span>Menit</div>
                        <div class="time-unit"><span>${seconds}</span>Detik</div>
                    `;
                } else {
                    clearInterval(x);
                    timerElement.innerHTML = "WAKTU BAHAGIA TELAH TIBA!";
                }
            }, 1000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            setGuestName();
            startCountdown();
            updatePageWrapper(); 
        });
    </script>

</body>
                    </html>
    
